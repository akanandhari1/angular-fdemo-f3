<section>
  <h4 class="title" style="margin-top:10px">
    DC Details
    <div style="float:right">
      <button mat-button (click)="back()" color="primary">
        <mat-icon style="font-size:18px">arrow_back</mat-icon>
        Back
      </button>
    </div>
  </h4>

  <form [formGroup]="form" (ngSubmit)="onFormSubmit()" autocomplete="off">
    <mat-card>
      <h4 class="title">CREATE</h4>
      <div class="flex-container">
        <mat-form-field class="flex-item">
          <mat-label>Diagnostic Centre Name</mat-label>
          <mat-icon matPrefix>local_pharmacy</mat-icon>
          <input
            matInput
            formControlName="DcName"
            alphaNumeric
            maxlength="100"
          />
          <mat-error
            ><span
              *ngIf="
                form.controls.DcName.touched && form.controls.DcName.invalid
              "
            >
              Please Enter Diagnostic Centre Name</span
            >
          </mat-error>
        </mat-form-field>

        <mat-form-field class="flex-item">
          <mat-label>Grade</mat-label>
          <mat-icon matPrefix>grade</mat-icon>
          <mat-select formControlName="Grade" required>
            <mat-option value="Premium">Premium </mat-option>
            <mat-option value="Non-Premium">Non-Premium </mat-option>
          </mat-select>
          <mat-error class="mat-radio-error">
            <span
              *ngIf="form.controls.Grade.touched && form.controls.Grade.invalid"
            >
              Please Choose a Grade</span
            >
          </mat-error>
        </mat-form-field>
        <div class="flex-item matcheck">
          <mat-checkbox formControlName="Block" [color]="'primary'">
            Block
          </mat-checkbox>
        </div>
        <mat-form-field class="flex-item">
          <mat-label>Address</mat-label>
          <input
            matInput
            formControlName="Address"
            maxlength="1000"
            #tooltip="matTooltip"
            matTooltip=" {{ form.controls.Address.value }}"
            matTooltipPosition="below"
          />
          <mat-icon matPrefix> store_mall_directory</mat-icon>
          <mat-error>
            <span
              *ngIf="
                form.controls.Address.touched && form.controls.Address.invalid
              "
            >
              Please Enter Address</span
            >
          </mat-error>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>Location</mat-label>
          <input matInput formControlName="Location" maxlength="50" />
          <mat-icon matPrefix>map </mat-icon>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>City</mat-label>
          <input
            matInput
            formControlName="City"
            alphabetOnly
            required
            maxlength="50"
          />
          <mat-icon matPrefix> location_city</mat-icon>
          <mat-error
            ><span
              *ngIf="form.controls.City.touched && form.controls.City.invalid"
            >
              Please enter City</span
            >
          </mat-error>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>State</mat-label>
          <mat-icon matPrefix>location_searching</mat-icon>
          <mat-select formControlName="State" required>
            <mat-option *ngFor="let state of stateList" [value]="state">
              {{ state }}
            </mat-option>
          </mat-select>
          <mat-error
            ><span
              *ngIf="form.controls.State.touched && form.controls.State.invalid"
            >
              Please select a state</span
            >
          </mat-error>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>Pincode</mat-label>
          <input
            matInput
            NumberOnly
            formControlName="Pincode"
            onKeyPress="if(this.value.length==6) return false;"
            required
          />
          <mat-icon matPrefix> location_on</mat-icon>
          <mat-error
            ><span
              *ngIf="
                form.controls.Pincode.touched && form.controls.Pincode.invalid
              "
            >
              Please enter pincode</span
            >
          </mat-error>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>Contact Person 1 Name</mat-label>
          <input
            matInput
            formControlName="ContactPerson1Name"
            alphabetwithSpecial
            maxlength="100"
          />
          <mat-icon matPrefix> person_pin</mat-icon>
          <mat-error>
            <span
              *ngIf="
                form.controls.ContactPerson1Name.touched &&
                form.controls.ContactPerson1Name.invalid
              "
            >
              Please Enter Contact Person Name</span
            >
          </mat-error>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>Contact Person 1 Number</mat-label>
          <input
            matInput
            formControlName="ContactPerson1No"
            NumberOnly
            onKeyPress="if(this.value.length==10) return false;"
          />
          <mat-icon matPrefix>call</mat-icon>
          <mat-error
            ><span
              *ngIf="
                form.controls.ContactPerson1No.touched &&
                form.controls.ContactPerson1No.invalid
              "
            >
              Please enter a valid mobile number</span
            >
          </mat-error>
        </mat-form-field>

        <mat-form-field class="flex-item">
          <mat-label>Contact Person 2 Name</mat-label>
          <input
            matInput
            formControlName="ContactPerson2Name"
            alphabetwithSpecial
            maxlength="100"
          />
          <mat-icon matPrefix> person_pin</mat-icon>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>Contact Person 2 Number</mat-label>
          <input
            matInput
            formControlName="ContactPerson2No"
            NumberOnly
            onKeyPress="if(this.value.length==10) return false;"
          />
          <mat-icon matPrefix>call</mat-icon>
          <mat-error
            ><span
              *ngIf="
                form.controls.ContactPerson2No.touched &&
                form.controls.ContactPerson2No.invalid
              "
            >
              Please enter a valid mobile number</span
            >
          </mat-error>
        </mat-form-field>

        <mat-form-field class="flex-item">
          <mat-label> Landline Number</mat-label>
          <input matInput formControlName="Landline" landline />
          <mat-icon matPrefix>call</mat-icon>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>Email</mat-label>
          <input matInput formControlName="Email" />
          <mat-icon matPrefix> mail</mat-icon>
          <mat-error>
            <span
              *ngIf="form.controls.Email.touched && form.controls.Email.invalid"
            >
              Please Enter Email</span
            >
          </mat-error>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>SPOC Name</mat-label>
          <input matInput formControlName="Spoc_Name" />
          <mat-icon matPrefix> person_pin</mat-icon>
          <mat-error>
            <span
              *ngIf="
                form.controls.Spoc_Name.touched &&
                form.controls.Spoc_Name.invalid
              "
            >
              Please Enter SPOC Name</span
            >
          </mat-error>
        </mat-form-field>
      </div>
    </mat-card>
    <div class="space"></div>
    <mat-card>
      <h4 class="title">Available Features</h4>
      <div class="flex-container">
        <mat-form-field class="flex-item">
          <mat-label>MER</mat-label>
          <mat-icon matPrefix>biotech</mat-icon>
          <mat-select formControlName="MER">
            <mat-option value="Yes"> Yes </mat-option>
            <mat-option value="No"> No </mat-option>
            <mat-option value="OS"> OS </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>X-RAY</mat-label>
          <mat-icon matPrefix>biotech</mat-icon>
          <mat-select formControlName="X_RAY">
            <mat-option value="Yes"> Yes </mat-option>
            <mat-option value="No"> No </mat-option>
            <mat-option value="OS"> OS </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>Lab</mat-label>
          <mat-icon matPrefix>biotech</mat-icon>
          <mat-select formControlName="Lab">
            <mat-option value="Yes"> Yes </mat-option>
            <mat-option value="No"> No </mat-option>
            <mat-option value="OS"> OS </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>ECG</mat-label>
          <mat-icon matPrefix> biotech </mat-icon>
          <mat-select formControlName="ECG">
            <mat-option value="Yes"> Yes </mat-option>
            <mat-option value="No"> No </mat-option>
            <mat-option value="OS"> OS </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>TwoD_ECHO</mat-label>
          <mat-icon matPrefix>biotech</mat-icon>
          <mat-select formControlName="TwoD_ECHO">
            <mat-option value="Yes"> Yes </mat-option>
            <mat-option value="No"> No </mat-option>
            <mat-option value="OS"> OS </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>Urine_Cotinine</mat-label>
          <mat-icon matPrefix>biotech</mat-icon>
          <mat-select formControlName="Urine_Cotinine">
            <mat-option value="Yes"> Yes </mat-option>
            <mat-option value="No"> No </mat-option>
            <mat-option value="OS"> OS </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>CTMT</mat-label>
          <mat-icon matPrefix>biotech</mat-icon>
          <mat-select formControlName="CTMT">
            <mat-option value="Yes"> Yes </mat-option>
            <mat-option value="No"> No </mat-option>
            <mat-option value="OS"> OS </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>USG</mat-label>
          <mat-icon matPrefix>biotech</mat-icon>
          <mat-select formControlName="USG">
            <mat-option value="Yes"> Yes </mat-option>
            <mat-option value="No"> No </mat-option>
            <mat-option value="OS"> OS </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>Female Technician</mat-label>
          <mat-icon matPrefix>woman</mat-icon>
          <mat-select formControlName="Female_Tech">
            <mat-option value="Yes"> Yes </mat-option>
            <mat-option value="No"> No </mat-option>
            <mat-option value="OS"> OS </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>Reports TAT</mat-label>
          <mat-icon matPrefix>insights</mat-icon>
          <mat-select formControlName="ReportsTat">
            <mat-option
              *ngFor="
                let number of ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']
              "
              value="number"
            >
              {{ number }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <div class="flex-item matcheck">
          <mat-checkbox formControlName="HomeVisit" [color]="'primary'">
            Home Visit
          </mat-checkbox>
        </div>
        <div class="flex-item matcheck">
          <mat-checkbox formControlName="DCVisit" [color]="'primary'">
            DC Visit
          </mat-checkbox>
        </div>
      </div>
    </mat-card>
    <div class="space"></div>
    <mat-card>
      <h4 class="title">Insurance Provider</h4>
      <div class="flex-container">
        <div class="flex-item matcheck">
          <mat-checkbox formControlName="TATA_AIG" [color]="'primary'">
            TATA_AIA
          </mat-checkbox>
        </div>
        <div class="flex-item matcheck">
          <mat-checkbox formControlName="HDFC" [color]="'primary'">
            HDFC
          </mat-checkbox>
        </div>
        <div class="flex-item matcheck">
          <mat-checkbox formControlName="SBI" [color]="'primary'">
            SBI
          </mat-checkbox>
        </div>
      </div>
    </mat-card>
    <div class="space"></div>
    <mat-card>
      <h4 class="title">Bank Details</h4>
      <div class="flex-container">
        <mat-form-field class="flex-item">
          <mat-label>Bank Name</mat-label>
          <mat-icon matPrefix>savings</mat-icon>
          <input matInput formControlName="BankName" alphabetOnly />
          <mat-error
            ><span
              *ngIf="
                form.controls.BankName.touched && form.controls.BankName.invalid
              "
            >
              Please Enter Bank Name</span
            >
          </mat-error>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>Account Holder Name</mat-label>
          <mat-icon matPrefix>perm_identity</mat-icon>
          <input matInput formControlName="AccHolderName" alphabetwithSpecial />
          <mat-error
            ><span
              *ngIf="
                form.controls.AccHolderName.touched &&
                form.controls.AccHolderName.invalid
              "
            >
              Please Enter Account Holder Name</span
            >
          </mat-error>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>Account Number</mat-label>
          <mat-icon matPrefix>account_balance</mat-icon>
          <input matInput formControlName="AccountNo" landline />
          <mat-error
            ><span
              *ngIf="
                form.controls.AccountNo.touched &&
                form.controls.AccountNo.invalid
              "
            >
              Please Enter Account Number</span
            >
          </mat-error>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>Branch Address</mat-label>
          <mat-icon matPrefix>store_mall_directory</mat-icon>
          <input matInput formControlName="BranchAddress" />
          <mat-error
            ><span
              *ngIf="
                form.controls.BranchAddress.touched &&
                form.controls.BranchAddress.invalid
              "
            >
              Please Enter Branch Address</span
            >
          </mat-error>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>IFSC Code</mat-label>
          <mat-icon matPrefix>drag_indicator</mat-icon>
          <input matInput formControlName="IfscCode" alphaNumeric />
          <mat-error
            ><span
              *ngIf="
                form.controls.IfscCode.touched && form.controls.IfscCode.invalid
              "
            >
              Please Enter IFSC Code</span
            >
          </mat-error>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>Name(As per PAN)</mat-label>
          <mat-icon matPrefix>perm_identity</mat-icon>
          <input matInput formControlName="PanName" alphabetwithSpecial />
          <mat-error
            ><span
              *ngIf="
                form.controls.PanName.touched && form.controls.PanName.invalid
              "
            >
              Please Enter Name as per PAN</span
            >
          </mat-error>
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>PAN Number</mat-label>
          <mat-icon matPrefix>payment</mat-icon>
          <input matInput formControlName="PanNo" alphaNumeric />
          <mat-error
            ><span
              *ngIf="form.controls.PanNo.touched && form.controls.PanNo.invalid"
            >
              Please Enter PAN Number</span
            >
          </mat-error>
        </mat-form-field>
      </div>
    </mat-card>
    <div class="space"></div>
    <mat-card *ngIf="!isviewVa">
      <h4 class="title">Upload Documents</h4>
      <div class="flex-container">
        <mat-form-field class="flex-item">
          <mat-label>Credit Period</mat-label>
          <mat-icon matPrefix>punch_clock</mat-icon>
          <input matInput formControlName="CreditPeriod" />
        </mat-form-field>
        <mat-form-field class="flex-item">
          <mat-label>Tariff Price</mat-label>
          <mat-icon matPrefix>currency_rupee</mat-icon>
          <mat-select formControlName="TariffPrice">
            <mat-option
              *ngFor="
                let number of [
                  'None',
                  'Base Price',
                  '5%',
                  '10%',
                  '15%',
                  '20%',
                  'Exceptional'
                ]
              "
              value="number"
            >
              {{ number }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="flex-container">
        <div class="flex-item">
          <browse-file
            [title]="'MOU'"
            [file]="form.controls['Mou'].value"
            (out)="captureEmit($event, 'Mou')"
          ></browse-file>
        </div>
        <div class="flex-item">
          <browse-file
            [title]="'Bank Details'"
            [file]="form.controls['BankDetails'].value"
            (out)="captureEmit($event, 'BankDetails')"
          ></browse-file>
        </div>
        <div class="flex-item">
          <browse-file
            [title]="'Tariff'"
            [file]="form.controls['Tariff'].value"
            (out)="captureEmit($event, 'Tariff')"
          ></browse-file>
        </div>
        <div class="flex-item">
          <browse-file
            [title]="'PIS'"
            [file]="form.controls['Pis'].value"
            (out)="captureEmit($event, 'Pis')"
          ></browse-file>
        </div>
        <div class="flex-item">
          <browse-file
            [title]="'Registration Certificates'"
            [file]="form.controls['RegistrationCertificate'].value"
            (out)="captureEmit($event, 'RegistrationCertificate')"
          ></browse-file>
        </div>
        <div class="flex-item">
          <browse-file
            [title]="'Photos'"
            [file]="form.controls['Photos'].value"
            (out)="captureEmit($event, 'Photos')"
          ></browse-file>
        </div>
        <div class="flex-item">
          <browse-file
            [title]="'DC Grading'"
            [file]="form.controls['DCGrading'].value"
            (out)="captureEmit($event, 'DCGrading')"
          ></browse-file>
        </div>
        <div class="flex-item">
          <browse-file
            [title]="'DC Audit'"
            [file]="form.controls['DCAudit'].value"
            (out)="captureEmit($event, 'DCAudit')"
          ></browse-file>
        </div>
        <div class="flex-item">
          <browse-file
            [title]="'Other Documents'"
            [file]="form.controls['otherDocs'].value"
            (out)="captureEmit($event, 'otherDocs')"
          ></browse-file>
        </div>
      </div>
    </mat-card>
    <mat-card class="mr-top" *ngIf="isviewVa">
      <h4 class="title">Documents</h4>
      <div class="flex-container">
        <div class="flex-item">
          <div class="row">
            <div class="col-1 bold">Credit Period</div>
            <div class="col-2">
               {{ form.controls.CreditPeriod.value || '-' }}
            </div>
          </div>
        </div>
        <div class="flex-item">
          <div class="row">
            <div class="col-1 bold">Tariff Price</div>
            <div class="col-2">
               {{ form.controls.TariffPrice.value || '-' }}
            </div>
          </div>
        </div>
        <div class="flex-item">
          <div class="row">
            <div class="col-1 bold">MOU</div>
            <div class="col-2">
              <ng-container *ngFor="let f of form.controls.Mou.value">
                {{ (f ? f.name + '(' + formatBytes(f.size) + ')' : '') || '-' }}
              </ng-container>
            </div>
          </div>
        </div>

        <div class="flex-item">
          <div class="row">
            <div class="col-1 bold">Bank Details</div>
            <div class="col-2">
              <ng-container *ngFor="let f of form.controls.BankDetails.value">
                {{ (f ? f.name + '(' + formatBytes(f.size) + ')' : '') || '-' }}
              </ng-container>
            </div>
          </div>
        </div>
        <div class="flex-item">
          <div class="row">
            <div class="col-1 bold">Tariff</div>
            <div class="col-2">
              <ng-container *ngFor="let f of form.controls.Tariff.value">
                {{ (f ? f.name + '(' + formatBytes(f.size) + ')' : '') || '-' }}
              </ng-container>
            </div>
          </div>
        </div>
        <div class="flex-item">
          <div class="row">
            <div class="col-1 bold">Pis</div>
            <div class="col-2">
              <ng-container *ngFor="let f of form.controls.Pis.value">
                {{ (f ? f.name + '(' + formatBytes(f.size) + ')' : '') || '-' }}
              </ng-container>
            </div>
          </div>
        </div>
        <div class="flex-item">
          <div class="row">
            <div class="col-1 bold">RegistrationCertificate</div>
            <div class="col-2">
              <ng-container
                *ngFor="let f of form.controls.RegistrationCertificate.value"
              >
                {{ (f ? f.name + '(' + formatBytes(f.size) + ')' : '') || '-' }}
              </ng-container>
            </div>
          </div>
        </div>
        <div class="flex-item">
          <div class="row">
            <div class="col-1 bold">Photos</div>
            <div class="col-2">
              <ng-container *ngFor="let f of form.controls.Photos.value">
                {{ (f ? f.name + '(' + formatBytes(f.size) + ')' : '') || '-' }}
              </ng-container>
            </div>
          </div>
        </div>
        <div class="flex-item">
          <div class="row">
            <div class="col-1 bold">DC Grading</div>
            <div class="col-2">
              <ng-container *ngFor="let f of form.controls.DCGrading.value">
                {{ (f ? f.name + '(' + formatBytes(f.size) + ')' : '') || '-' }}
              </ng-container>
            </div>
          </div>
        </div>
        <div class="flex-item">
          <div class="row">
            <div class="col-1 bold">DCAudit</div>
            <div class="col-2">
              <ng-container *ngFor="let f of form.controls.DCAudit.value">
                {{ (f ? f.name + '(' + formatBytes(f.size) + ')' : '') || '-' }}
              </ng-container>
            </div>
          </div>
        </div>
        <div class="flex-item">
          <div class="row">
            <div class="col-1 bold">otherDocs</div>
            <div class="col-2">
              <ng-container *ngFor="let f of form.controls.otherDocs.value">
                {{ (f ? f.name + '(' + formatBytes(f.size) + ')' : '') || '-' }}
              </ng-container>
            </div>
          </div>
        </div>

        <div class="full">
          <div class="bold">Remarks</div>
          {{ form.controls.Remarks.value || '-' }}
        </div>
      </div>
    </mat-card>
    <div class="space"></div>
    <mat-card>
      <div class="flex-container">
        <mat-form-field class="flex-item-big" style="width:90%">
          <mat-label>Remarks</mat-label>

          <textarea
            matInput
            formControlName="Remarks"
            maxlength="250"
          ></textarea>
        </mat-form-field>
      </div>
    </mat-card>
    <div class="space"></div>
    <div class="flex-container">
      <div class="bottom-pane">
        <button
          mat-raised-button
          type="submit"
          color="primary"
          (click)="onFormSubmit()"
        >
          Submit
        </button>
      </div>
    </div>
  </form>
</section>
